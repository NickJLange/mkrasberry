---
- hosts: "{{ hostlist | default('do_not_match_ever')}}"
  remote_user: "{{ local_ssh_user }}"
  become: true
  environment:
    VAULT_USER: "{{ vault_username }}"
    VAULT_PASSWORD: "{{ vault_password }}"
    VAULT_AUTHTYPE: userpass
    VAULT_ADDR: "{{ vault_address }}"
  tasks:
    - name: Install requisite packages (likely present)
      apt:
        name:
          - wireguard
        state: present
        force_apt_get: yes
        cache_valid_time: 84600
      register: wireguard_packages_present